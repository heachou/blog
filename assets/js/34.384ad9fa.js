(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{540:function(t,s,a){"use strict";a.r(s);var n=a(6),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"索引-index"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#索引-index"}},[t._v("#")]),t._v(" 索引 index")]),t._v(" "),a("p",[t._v("对文档部分内容进行排序的数据结构")]),t._v(" "),a("p",[t._v("创建合适的索引，可以极大的提高搜索的性能")]),t._v(" "),a("h2",{attrs:{id:"创建索引"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建索引"}},[t._v("#")]),t._v(" 创建索引")]),t._v(" "),a("ul",[a("li",[t._v("语法")])]),t._v(" "),a("p",[a("code",[t._v("db.<collection>.createIndex(<keys>,<options>)")])]),t._v(" "),a("ul",[a("li",[t._v("options 参数")])]),t._v(" "),a("p",[t._v("unique: boolean 创建一个具有唯一性的索引，要求，字段的值是唯一的")]),t._v(" "),a("p",[t._v("sparse: boolean 只将包含索引键字段的文档加入到索引中")]),t._v(" "),a("p",[t._v("expireAfterSeconds: number 创建具有生存时间的索引")]),t._v(" "),a("ul",[a("li",[t._v("创建单键索引")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// db.accountsWithIndex.insertMany([{name:"alice",balance:50,currency:["GBP","USD"]},{name:"bob",balance: 20,currency:["AUD","USD"]},{name:"bob",balance:300,currency:["CNY"]}])')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 创建索引")]),t._v("\ndb"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("accountsWithIndex"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createIndex")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 获取索引")]),t._v("\ndb"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("accountsWithIndex"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getIndexes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("ul",[a("li",[t._v("创建复合键索引")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("accountsWithIndex"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createIndex")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" balance"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 获取索引")]),t._v("\ndb"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("accountsWithIndex"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getIndexes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("ul",[a("li",[t._v("创建多键索引")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// currency 是一个数组字段")]),t._v("\ndb"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("accountsWithIndex"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createIndex")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" currency"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//")]),t._v("\n")])])]),a("h2",{attrs:{id:"单键索引"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#单键索引"}},[t._v("#")]),t._v(" 单键索引")]),t._v(" "),a("h2",{attrs:{id:"复合键索引"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#复合键索引"}},[t._v("#")]),t._v(" 复合键索引")]),t._v(" "),a("h2",{attrs:{id:"多键索引"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#多键索引"}},[t._v("#")]),t._v(" 多键索引")]),t._v(" "),a("h2",{attrs:{id:"索引特性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#索引特性"}},[t._v("#")]),t._v(" 索引特性")]),t._v(" "),a("ul",[a("li",[t._v("唯一性")])]),t._v(" "),a("p",[t._v("数据库会默认的为我们创建一个索引 "),a("code",[t._v("_id")]),t._v(" ,具有唯一性，保证了文档是唯一的，"),a("code",[t._v("unique")])]),t._v(" "),a("ul",[a("li",[t._v("稀疏性")])]),t._v(" "),a("p",[t._v("只将包含索引键字段的文档加入到索引中。"),a("code",[t._v("sparse")]),t._v(" ，如果同一个索引既具有唯一性，又具有稀疏性，就可以保存"),a("em",[t._v("多篇")]),t._v("确实索引键值的文档了。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("accountsWithIndex"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createIndex")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" balance"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" unique"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sparse"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("ul",[a("li",[t._v("生存时间")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 创建一个生存时间是二十秒的索引")]),t._v("\ndb"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("accountsWithIndex"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createIndex")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" lastAccess"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" expireAfterSeconds"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 超过生存时间的文档将会自动的被数据库给删除掉")]),t._v("\n")])])]),a("h2",{attrs:{id:"explain"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#explain"}},[t._v("#")]),t._v(" explain()")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("accountsWithIndex"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" balance"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("300")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("explain")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// COLLSCAN collection scan 遍历 扫描")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// "winningPlan" : {')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//    "stage" : "COLLSCAN",')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//    "filter" : {')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//            "balance" : {')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//             "$eq" : 300')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//            }")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//    },")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//    "direction" : "forward"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                 },")]),t._v("\n\ndb"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("accountsWithIndex"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'alice'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("explain")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// IXSCAN index scan")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// "winningPlan" : {')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//    "stage" : "FETCH",')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//   "inputStage" : {')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//           "stage" : "IXSCAN",')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//          "keyPattern" : {')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                    "name" : 1')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//          },")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//          "indexName" : "name_1",')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//          "isMultiKey" : false,')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//          "multiKeyPaths" : {')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                    "name" : [ ]')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//          },")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//          "isUnique" : false,')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//          "isSparse" : false,')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//          "isPartial" : false,')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//          "indexVersion" : 2,')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//          "direction" : "forward",')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//          "indexBounds" : {')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                    "name" : [')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                            "[\\"alice\\", \\"alice\\"]"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                  ]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//          }")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//   }")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//  },")]),t._v("\n\ndb"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("accountsWithIndex"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'alice'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" _id"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// IXSCAN index scan")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// PROJECTION_COVERED 投影转换  性能更好")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//  "winningPlan" : {')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//     "stage" : "PROJECTION_COVERED",')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//     "transformBy" : {')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//             "_id" : 0,')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//             "name" : 1,')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//             "balance" : 1')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     },")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//     "inputStage" : {')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//             "stage" : "IXSCAN",')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//             "keyPattern" : {')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//               "name" : 1,')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//               "balance" : -1')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             },")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//             "indexName" : "name_1_balance_-1",')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//             "isMultiKey" : false,')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//             "multiKeyPaths" : {')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//             "name" : [ ],')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//             "balance" : [ ]')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             },")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//             "isUnique" : false,')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//             "isSparse" : false,')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//             "isPartial" : false,')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//             "indexVersion" : 2,')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//             "direction" : "forward",')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//             "indexBounds" : {')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//             "name" : [')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//               "[\\"alice\\", \\"alice\\"]"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             ],")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//             "balance" : [')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//             "[MaxKey, MinKey]"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             ]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//           }")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         }")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//       },")]),t._v("\n")])])]),a("h2",{attrs:{id:"如何创建一个合适的索引"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何创建一个合适的索引"}},[t._v("#")]),t._v(" 如何创建一个合适的索引")]),t._v(" "),a("h2",{attrs:{id:"索引对数据库写入操作的影响"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#索引对数据库写入操作的影响"}},[t._v("#")]),t._v(" 索引对数据库写入操作的影响")]),t._v(" "),a("h2",{attrs:{id:"删除索引"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#删除索引"}},[t._v("#")]),t._v(" 删除索引")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 根据索引名称删除")]),t._v("\ndb"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("accountsWithIndex"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("dropIndex")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'name_1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 根据索引的定义来删除")]),t._v("\ndb"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("accountsWithIndex"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("dropIndex")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" balance"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);